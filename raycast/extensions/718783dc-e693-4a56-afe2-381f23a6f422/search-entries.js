"use strict";var Ke=Object.create;var J=Object.defineProperty;var He=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var Ze=Object.getPrototypeOf,Ye=Object.prototype.hasOwnProperty;var Qe=(t,e)=>{for(var r in e)J(t,r,{get:e[r],enumerable:!0})},ke=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Je(e))!Ye.call(t,s)&&s!==r&&J(t,s,{get:()=>e[s],enumerable:!(n=He(e,s))||n.enumerable});return t};var Z=(t,e,r)=>(r=t!=null?Ke(Ze(t)):{},ke(e||!t||!t.__esModule?J(r,"default",{value:t,enumerable:!0}):r,t)),Xe=t=>ke(J({},"__esModule",{value:!0}),t);var Xt={};Qe(Xt,{SearchEntries:()=>Ve,default:()=>ze});module.exports=Xe(Xt);var F=require("@raycast/api");var g=Z(require("react")),k=require("@raycast/api");var xe=Object.prototype.hasOwnProperty;function Y(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&Y(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(xe.call(t,r)&&++n&&!xe.call(e,r)||!(r in e)||!Y(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var j=Z(require("node:fs")),X=Z(require("node:path")),Se=Z(require("node:crypto"));var Ce=require("react/jsx-runtime");function qe(t){let e=(0,g.useRef)(t),r=(0,g.useRef)(0);return Y(t,e.current)||(e.current=t,r.current+=1),(0,g.useMemo)(()=>e.current,[r.current])}function D(t){let e=(0,g.useRef)(t);return e.current=t,e}function et(t,e){let r=t instanceof Error?t.message:String(t);return(0,k.showToast)({style:k.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??r,primaryAction:e?.primaryAction??Ae(t),secondaryAction:e?.primaryAction?Ae(t):void 0})}var Ae=t=>{let e=!0,r="[Extension Name]...",n="";try{let i=JSON.parse((0,j.readFileSync)((0,X.join)(k.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let s=k.environment.isDevelopment||e,a=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?k.Clipboard.copy(a):(0,k.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${a}
\`\`\`
`)}`)}}};function tt(t,e,r){let n=(0,g.useRef)(0),[s,a]=(0,g.useState)({isLoading:!0}),i=D(t),c=D(r?.abortable),o=D(e||[]),u=D(r?.onError),l=D(r?.onData),f=D(r?.onWillExecute),d=D(r?.failureToastOptions),p=D(s.data),b=(0,g.useRef)(null),m=(0,g.useRef)({page:0}),w=(0,g.useRef)(!1),E=(0,g.useRef)(!0),S=(0,g.useRef)(50),x=(0,g.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),y=(0,g.useCallback)((...M)=>{let v=x();f.current?.(M),a($=>({...$,isLoading:!0}));let V=rt(i.current)(...M);function C($){return $.name=="AbortError"||v===n.current&&(u.current?u.current($):k.environment.launchType!==k.LaunchType.Background&&et($,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(O){O.hide(),b.current?.(...o.current||[])}},...d.current}),a({error:$,isLoading:!1})),$}return typeof V=="function"?(w.current=!0,V(m.current).then(({data:$,hasMore:O,cursor:je})=>(v===n.current&&(m.current&&(m.current.cursor=je,m.current.lastItem=$?.[$.length-1]),l.current&&l.current($,m.current),O&&(S.current=$.length),E.current=O,a(Ge=>m.current.page===0?{data:$,isLoading:!1}:{data:(Ge.data||[])?.concat($),isLoading:!1})),$),$=>(E.current=!1,C($)))):(w.current=!1,V.then($=>(v===n.current&&(l.current&&l.current($),a({data:$,isLoading:!1})),$),C))},[l,u,o,i,a,b,f,m,d,x]);b.current=y;let U=(0,g.useCallback)(()=>{m.current={page:0};let M=o.current||[];return y(...M)},[y,o]),_=(0,g.useCallback)(async(M,v)=>{let V;try{if(v?.optimisticUpdate){x(),typeof v?.rollbackOnError!="function"&&v?.rollbackOnError!==!1&&(V=structuredClone(p.current?.value));let C=v.optimisticUpdate;a($=>({...$,data:C($.data)}))}return await M}catch(C){if(typeof v?.rollbackOnError=="function"){let $=v.rollbackOnError;a(O=>({...O,data:$(O.data)}))}else v?.optimisticUpdate&&v?.rollbackOnError!==!1&&a($=>({...$,data:V}));throw C}finally{v?.shouldRevalidateAfter!==!1&&(k.environment.launchType===k.LaunchType.Background||k.environment.commandMode==="menu-bar"?await U():U())}},[U,p,a,x]),A=(0,g.useCallback)(()=>{m.current.page+=1;let M=o.current||[];y(...M)},[m,o,y]);(0,g.useEffect)(()=>{m.current={page:0},r?.execute!==!1?y(...e||[]):x()},[qe([e,r?.execute,y]),c,m]),(0,g.useEffect)(()=>()=>{x()},[x]);let R=r?.execute!==!1?s.isLoading:!1,I={...s,isLoading:R},z=w.current?{pageSize:S.current,hasMore:E.current,onLoadMore:A}:void 0;return{...I,revalidate:U,mutate:_,pagination:z}}function rt(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}function Ee(t){return typeof t!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))!==null}function nt(t){return t instanceof URLSearchParams?t.toString():t}function _e(t,e=[]){function r(n){return"update"in t?t.update(n,"utf8"):t.write(n)}return{dispatch:function(n){n=nt(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,a=Object.prototype.toString.call(n),i=s.exec(a)?.[1]??"unknown:["+a+"]";i=i.toLowerCase();let c=null;if((c=e.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else e.push(n);if(Buffer.isBuffer(n))return r("buffer:"),r(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let o=Object.keys(n);o=o.sort(),Ee(n)||o.splice(0,0,"prototype","__proto__","constructor"),r("object:"+o.length+":");let u=this;return o.forEach(function(l){u.dispatch(l),r(":"),u.dispatch(n[l]),r(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let a=this;if(r("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(o){a.dispatch(o)});return}let i=[],c=n.map(function(o){let u=st(),l=e.slice();return _e(u,l).dispatch(o),i=i.concat(l.slice(e.length)),u.read().toString()});e=e.concat(i),c.sort(),this._array(c,!1)},_date:function(n){r("date:"+n.toJSON())},_symbol:function(n){r("symbol:"+n.toString())},_error:function(n){r("error:"+n.toString())},_boolean:function(n){r("bool:"+n.toString())},_string:function(n){r("string:"+n.length+":"),r(n.toString())},_function:function(n){r("fn:"),Ee(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){r("number:"+n.toString())},_xml:function(n){r("xml:"+n.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(n){r("regex:"+n.toString())},_uint8array:function(n){r("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){r("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){r("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){r("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){r("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){r("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){r("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){r("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){r("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){r("url:"+n.toString())},_map:function(n){r("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){r("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){r("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(n){r("bigint:"+n.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function st(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}function at(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toISOString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function it(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}function Q(t){let e=Se.default.createHash("sha1");return _e(e).dispatch(t),e.digest("hex")}var ct=Symbol("cache without namespace"),ve=new Map;function ot(t,e,r){let n=r?.cacheNamespace||ct,s=ve.get(n)||ve.set(n,new k.Cache({namespace:r?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let a=D(t),i=D(e),c=(0,g.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(a.current)}catch(f){console.error("Could not get Cache data:",f);return}}),o=(0,g.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,it)}catch(f){return console.warn("The cached data is corrupted",f),i.current}}else return i.current},[c,i]),u=D(o),l=(0,g.useCallback)(f=>{let d=typeof f=="function"?f(u.current):f;if(typeof d>"u")s.set(a.current,"undefined");else{let p=JSON.stringify(d,at);s.set(a.current,p)}return d},[s,a,u]);return[o,l]}var K=Symbol();function ut(t,e,r){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:a,...i}=r||{},c=(0,g.useRef)(null),[o,u]=ot(Q(e||[])+a,K,{cacheNamespace:Q(t)}),l=(0,g.useRef)(o!==K?o:n),f=(0,g.useRef)(void 0),{mutate:d,revalidate:p,...b}=tt(t,e||[],{...i,onData(x,y){f.current=y,i.onData&&i.onData(x,y),!(y&&y.page>0)&&(c.current="promise",l.current=x,u(x))}}),m,w=b.pagination;f.current&&f.current.page>0&&b.data?m=b.data:c.current==="promise"?m=l.current:s&&o!==K?(m=o,w&&(w.hasMore=!0,w.pageSize=o.length)):s&&o===K?m=l.current:o!==K?(m=o,w&&(w.hasMore=!0,w.pageSize=o.length)):m=n;let E=D(m),S=(0,g.useCallback)(async(x,y)=>{let U;try{if(y?.optimisticUpdate){typeof y?.rollbackOnError!="function"&&y?.rollbackOnError!==!1&&(U=structuredClone(E.current));let _=y.optimisticUpdate(E.current);c.current="cache",l.current=_,u(_)}return await d(x,{shouldRevalidateAfter:y?.shouldRevalidateAfter})}catch(_){if(typeof y?.rollbackOnError=="function"){let A=y.rollbackOnError(E.current);c.current="cache",l.current=A,u(A)}else y?.optimisticUpdate&&y?.rollbackOnError!==!1&&(c.current="cache",l.current=U,u(U));throw _}},[u,d,E,l,c]);return(0,g.useEffect)(()=>{o!==K&&(c.current="cache",l.current=o)},[o]),{data:m,isLoading:b.isLoading,error:b.error,mutate:f.current&&f.current.page>0?d:S,pagination:w,revalidate:p}}function lt(t){if(t){let e=ht(t);if(!e)return!1;if(e.subtype==="json"||e.suffix==="json"||e.suffix&&/\bjson\b/i.test(e.suffix)||e.subtype&&/\bjson\b/i.test(e.subtype))return!0}return!1}var ft=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function ht(t){let e=t.indexOf(";"),r=e!==-1?t.slice(0,e).trim():t.trim(),n=ft.exec(r.toLowerCase().toLowerCase());if(!n)return;let s=n[1],a=n[2],i,c=a.lastIndexOf("+");return c!==-1&&(i=a.substring(c+1),a=a.substring(0,c)),{type:s,subtype:a,suffix:i}}async function dt(t){if(!t.ok)throw new Error(t.statusText);let e=t.headers.get("content-type");return e&&lt(e)?await t.json():await t.text()}function pt(t){return{data:t,hasMore:!1}}function Re(t,e){let{parseResponse:r,mapResult:n,initialData:s,execute:a,keepPreviousData:i,onError:c,onData:o,onWillExecute:u,failureToastOptions:l,...f}=e||{},d={initialData:s,execute:a,keepPreviousData:i,onError:c,onData:o,onWillExecute:u,failureToastOptions:l},p=D(r||dt),b=D(n||pt),m=(0,g.useRef)(null),w=(0,g.useRef)(null),E=typeof t=="function"?t({page:0}):void 0;(!m.current||typeof w.current>"u"||w.current!==E)&&(m.current=t),w.current=E;let S=(0,g.useRef)(null),x=(0,g.useCallback)((_,A)=>async R=>{let I=await fetch(_(R),{signal:S.current?.signal,...A}),z=await p.current(I);return b.current?.(z)},[p,b]),y=(0,g.useCallback)(async(_,A)=>{let R=await fetch(_,{signal:S.current?.signal,...A}),I=await p.current(R);return b.current(I)?.data},[p,b]),U=(0,g.useMemo)(()=>w.current?x:y,[w,y,x]);return ut(U,[m.current,f],{...d,internal_cacheKeySuffix:w.current+Q(b.current)+Q(p.current),abortable:S})}function N(t){return Array.isArray?Array.isArray(t):Oe(t)==="[object Array]"}var mt=1/0;function gt(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-mt?"-0":e}function bt(t){return t==null?"":gt(t)}function L(t){return typeof t=="string"}function Me(t){return typeof t=="number"}function $t(t){return t===!0||t===!1||yt(t)&&Oe(t)=="[object Boolean]"}function Fe(t){return typeof t=="object"}function yt(t){return Fe(t)&&t!==null}function P(t){return t!=null}function ie(t){return!t.trim().length}function Oe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var wt="Incorrect 'index' type",kt=t=>`Invalid value for key ${t}`,xt=t=>`Pattern length exceeds max of ${t}.`,At=t=>`Missing ${t} property in key`,Et=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ie=Object.prototype.hasOwnProperty,ce=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let s=Le(n);this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Le(t){let e=null,r=null,n=null,s=1,a=null;if(L(t)||N(t))n=t,e=De(t),r=oe(t);else{if(!Ie.call(t,"name"))throw new Error(At("name"));let i=t.name;if(n=i,Ie.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(Et(i));e=De(i),r=oe(i),a=t.getFn}return{path:e,id:r,weight:s,src:n,getFn:a}}function De(t){return N(t)?t:t.split(".")}function oe(t){return N(t)?t.join("."):t}function vt(t,e){let r=[],n=!1,s=(a,i,c)=>{if(P(a))if(!i[c])r.push(a);else{let o=i[c],u=a[o];if(!P(u))return;if(c===i.length-1&&(L(u)||Me(u)||$t(u)))r.push(bt(u));else if(N(u)){n=!0;for(let l=0,f=u.length;l<f;l+=1)s(u[l],i,c+1)}else i.length&&s(u,i,c+1)}};return s(t,L(e)?e.split("."):e,0),n?r:r[0]}var St={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ct={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},_t={location:0,threshold:.6,distance:100},Rt={useExtendedSearch:!1,getFn:vt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},h={...Ct,...St,..._t,...Rt},It=/[^ ]+/g;function Dt(t=1,e=3){let r=new Map,n=Math.pow(10,e);return{get(s){let a=s.match(It).length;if(r.has(a))return r.get(a);let i=1/Math.pow(a,.5*t),c=parseFloat(Math.round(i*n)/n);return r.set(a,c),c},clear(){r.clear()}}}var H=class{constructor({getFn:e=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){this.norm=Dt(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,L(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();L(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!P(e)||ie(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((s,a)=>{let i=s.getFn?s.getFn(e):this.getFn(e,s.path);if(P(i)){if(N(i)){let c=[],o=[{nestedArrIndex:-1,value:i}];for(;o.length;){let{nestedArrIndex:u,value:l}=o.pop();if(P(l))if(L(l)&&!ie(l)){let f={v:l,i:u,n:this.norm.get(l)};c.push(f)}else N(l)&&l.forEach((f,d)=>{o.push({nestedArrIndex:d,value:f})})}n.$[a]=c}else if(L(i)&&!ie(i)){let c={v:i,n:this.norm.get(i)};n.$[a]=c}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function Be(t,e,{getFn:r=h.getFn,fieldNormWeight:n=h.fieldNormWeight}={}){let s=new H({getFn:r,fieldNormWeight:n});return s.setKeys(t.map(Le)),s.setSources(e),s.create(),s}function Tt(t,{getFn:e=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){let{keys:n,records:s}=t,a=new H({getFn:e,fieldNormWeight:r});return a.setKeys(n),a.setIndexRecords(s),a}function q(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:s=h.distance,ignoreLocation:a=h.ignoreLocation}={}){let i=e/t.length;if(a)return i;let c=Math.abs(n-r);return s?i+c/s:c?1:i}function Pt(t=[],e=h.minMatchCharLength){let r=[],n=-1,s=-1,a=0;for(let i=t.length;a<i;a+=1){let c=t[a];c&&n===-1?n=a:!c&&n!==-1&&(s=a-1,s-n+1>=e&&r.push([n,s]),n=-1)}return t[a-1]&&a-n>=e&&r.push([n,a-1]),r}var G=32;function Ut(t,e,r,{location:n=h.location,distance:s=h.distance,threshold:a=h.threshold,findAllMatches:i=h.findAllMatches,minMatchCharLength:c=h.minMatchCharLength,includeMatches:o=h.includeMatches,ignoreLocation:u=h.ignoreLocation}={}){if(e.length>G)throw new Error(xt(G));let l=e.length,f=t.length,d=Math.max(0,Math.min(n,f)),p=a,b=d,m=c>1||o,w=m?Array(f):[],E;for(;(E=t.indexOf(e,b))>-1;){let A=q(e,{currentLocation:E,expectedLocation:d,distance:s,ignoreLocation:u});if(p=Math.min(A,p),b=E+l,m){let R=0;for(;R<l;)w[E+R]=1,R+=1}}b=-1;let S=[],x=1,y=l+f,U=1<<l-1;for(let A=0;A<l;A+=1){let R=0,I=y;for(;R<I;)q(e,{errors:A,currentLocation:d+I,expectedLocation:d,distance:s,ignoreLocation:u})<=p?R=I:y=I,I=Math.floor((y-R)/2+R);y=I;let z=Math.max(1,d-I+1),M=i?f:Math.min(d+I,f)+l,v=Array(M+2);v[M+1]=(1<<A)-1;for(let C=M;C>=z;C-=1){let $=C-1,O=r[t.charAt($)];if(m&&(w[$]=+!!O),v[C]=(v[C+1]<<1|1)&O,A&&(v[C]|=(S[C+1]|S[C])<<1|1|S[C+1]),v[C]&U&&(x=q(e,{errors:A,currentLocation:$,expectedLocation:d,distance:s,ignoreLocation:u}),x<=p)){if(p=x,b=$,b<=d)break;z=Math.max(1,2*d-b)}}if(q(e,{errors:A+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:u})>p)break;S=v}let _={isMatch:b>=0,score:Math.max(.001,x)};if(m){let A=Pt(w,c);A.length?o&&(_.indices=A):_.isMatch=!1}return _}function Mt(t){let e={};for(let r=0,n=t.length;r<n;r+=1){let s=t.charAt(r);e[s]=(e[s]||0)|1<<n-r-1}return e}var ee=String.prototype.normalize?(t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(t=>t),te=class{constructor(e,{location:r=h.location,threshold:n=h.threshold,distance:s=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:c=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive,ignoreDiacritics:u=h.ignoreDiacritics,ignoreLocation:l=h.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreDiacritics:u,ignoreLocation:l},e=o?e:e.toLowerCase(),e=u?ee(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;let f=(p,b)=>{this.chunks.push({pattern:p,alphabet:Mt(p),startIndex:b})},d=this.pattern.length;if(d>G){let p=0,b=d%G,m=d-b;for(;p<m;)f(this.pattern.substr(p,G),p),p+=G;if(b){let w=d-G;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,ignoreDiacritics:n,includeMatches:s}=this.options;if(e=r?e:e.toLowerCase(),e=n?ee(e):e,this.pattern===e){let m={isMatch:!0,score:0};return s&&(m.indices=[[0,e.length-1]]),m}let{location:a,distance:i,threshold:c,findAllMatches:o,minMatchCharLength:u,ignoreLocation:l}=this.options,f=[],d=0,p=!1;this.chunks.forEach(({pattern:m,alphabet:w,startIndex:E})=>{let{isMatch:S,score:x,indices:y}=Ut(e,m,w,{location:a+E,distance:i,threshold:c,findAllMatches:o,minMatchCharLength:u,includeMatches:s,ignoreLocation:l});S&&(p=!0),d+=x,S&&y&&(f=[...f,...y])});let b={isMatch:p,score:p?d/this.chunks.length:1};return p&&s&&(b.indices=f),b}},B=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Te(e,this.multiRegex)}static isSingleMatch(e){return Te(e,this.singleRegex)}search(){}};function Te(t,e){let r=t.match(e);return r?r[1]:null}var ue=class extends B{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},le=class extends B{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},fe=class extends B{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},he=class extends B{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},de=class extends B{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},pe=class extends B{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},re=class extends B{constructor(e,{location:r=h.location,threshold:n=h.threshold,distance:s=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:c=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive,ignoreDiacritics:u=h.ignoreDiacritics,ignoreLocation:l=h.ignoreLocation}={}){super(e),this._bitapSearch=new te(e,{location:r,threshold:n,distance:s,includeMatches:a,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreDiacritics:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},ne=class extends B{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n,s=[],a=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+a,s.push([n,r-1]);let i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}},me=[ue,ne,fe,he,pe,de,le,re],Pe=me.length,Ft=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ot="|";function Lt(t,e={}){return t.split(Ot).map(r=>{let n=r.trim().split(Ft).filter(a=>a&&!!a.trim()),s=[];for(let a=0,i=n.length;a<i;a+=1){let c=n[a],o=!1,u=-1;for(;!o&&++u<Pe;){let l=me[u],f=l.isMultiMatch(c);f&&(s.push(new l(f,e)),o=!0)}if(!o)for(u=-1;++u<Pe;){let l=me[u],f=l.isSingleMatch(c);if(f){s.push(new l(f,e));break}}}return s})}var Bt=new Set([re.type,ne.type]),ge=class{constructor(e,{isCaseSensitive:r=h.isCaseSensitive,ignoreDiacritics:n=h.ignoreDiacritics,includeMatches:s=h.includeMatches,minMatchCharLength:a=h.minMatchCharLength,ignoreLocation:i=h.ignoreLocation,findAllMatches:c=h.findAllMatches,location:o=h.location,threshold:u=h.threshold,distance:l=h.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:a,findAllMatches:c,ignoreLocation:i,location:o,threshold:u,distance:l},e=r?e:e.toLowerCase(),e=n?ee(e):e,this.pattern=e,this.query=Lt(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:a}=this.options;e=s?e:e.toLowerCase(),e=a?ee(e):e;let i=0,c=[],o=0;for(let u=0,l=r.length;u<l;u+=1){let f=r[u];c.length=0,i=0;for(let d=0,p=f.length;d<p;d+=1){let b=f[d],{isMatch:m,indices:w,score:E}=b.search(e);if(m){if(i+=1,o+=E,n){let S=b.constructor.type;Bt.has(S)?c=[...c,...w]:c.push(w)}}else{o=0,i=0,c.length=0;break}}if(i){let d={isMatch:!0,score:o/i};return n&&(d.indices=c),d}}return{isMatch:!1,score:1}}},be=[];function Nt(...t){be.push(...t)}function $e(t,e){for(let r=0,n=be.length;r<n;r+=1){let s=be[r];if(s.condition(t,e))return new s(t,e)}return new te(t,e)}var se={AND:"$and",OR:"$or"},ye={PATH:"$path",PATTERN:"$val"},we=t=>!!(t[se.AND]||t[se.OR]),Wt=t=>!!t[ye.PATH],zt=t=>!N(t)&&Fe(t)&&!we(t),Ue=t=>({[se.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ne(t,e,{auto:r=!0}={}){let n=s=>{let a=Object.keys(s),i=Wt(s);if(!i&&a.length>1&&!we(s))return n(Ue(s));if(zt(s)){let o=i?s[ye.PATH]:a[0],u=i?s[ye.PATTERN]:s[o];if(!L(u))throw new Error(kt(o));let l={keyId:oe(o),pattern:u};return r&&(l.searcher=$e(u,e)),l}let c={children:[],operator:a[0]};return a.forEach(o=>{let u=s[o];N(u)&&u.forEach(l=>{c.children.push(n(l))})}),c};return we(t)||(t=Ue(t)),n(t)}function Vt(t,{ignoreFieldNorm:e=h.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:s,norm:a,score:i})=>{let c=s?s.weight:null;n*=Math.pow(i===0&&c?Number.EPSILON:i,(c||1)*(e?1:a))}),r.score=n})}function jt(t,e){let r=t.matches;e.matches=[],P(r)&&r.forEach(n=>{if(!P(n.indices)||!n.indices.length)return;let{indices:s,value:a}=n,i={indices:s,value:a};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function Gt(t,e){e.score=t.score}function Kt(t,e,{includeMatches:r=h.includeMatches,includeScore:n=h.includeScore}={}){let s=[];return r&&s.push(jt),n&&s.push(Gt),t.map(a=>{let{idx:i}=a,c={item:e[i],refIndex:i};return s.length&&s.forEach(o=>{o(a,c)}),c})}var W=class{constructor(e,r={},n){this.options={...h,...r},this.options.useExtendedSearch,this._keyStore=new ce(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof H))throw new Error(wt);this._myIndex=r||Be(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){P(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let n=0,s=this._docs.length;n<s;n+=1){let a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,s-=1,r.push(a))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:n,includeScore:s,shouldSort:a,sortFn:i,ignoreFieldNorm:c}=this.options,o=L(e)?L(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Vt(o,{ignoreFieldNorm:c}),a&&o.sort(i),Me(r)&&r>-1&&(o=o.slice(0,r)),Kt(o,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(e){let r=$e(e,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:a,i,n:c})=>{if(!P(a))return;let{isMatch:o,score:u,indices:l}=r.searchIn(a);o&&s.push({item:a,idx:i,matches:[{score:u,value:a,norm:c,indices:l}]})}),s}_searchLogical(e){let r=Ne(e,this.options),n=(c,o,u)=>{if(!c.children){let{keyId:f,searcher:d}=c,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(o,f),searcher:d});return p&&p.length?[{idx:u,item:o,matches:p}]:[]}let l=[];for(let f=0,d=c.children.length;f<d;f+=1){let p=c.children[f],b=n(p,o,u);if(b.length)l.push(...b);else if(c.operator===se.AND)return[]}return l},s=this._myIndex.records,a={},i=[];return s.forEach(({$:c,i:o})=>{if(P(c)){let u=n(r,c,o);u.length&&(a[o]||(a[o]={idx:o,item:c,matches:[]},i.push(a[o])),u.forEach(({matches:l})=>{a[o].matches.push(...l)}))}}),i}_searchObjectList(e){let r=$e(e,this.options),{keys:n,records:s}=this._myIndex,a=[];return s.forEach(({$:i,i:c})=>{if(!P(i))return;let o=[];n.forEach((u,l)=>{o.push(...this._findMatches({key:u,value:i[l],searcher:r}))}),o.length&&a.push({idx:c,item:i,matches:o})}),a}_findMatches({key:e,value:r,searcher:n}){if(!P(r))return[];let s=[];if(N(r))r.forEach(({v:a,i,n:c})=>{if(!P(a))return;let{isMatch:o,score:u,indices:l}=n.searchIn(a);o&&s.push({score:u,key:e,value:a,idx:i,norm:c,indices:l})});else{let{v:a,n:i}=r,{isMatch:c,score:o,indices:u}=n.searchIn(a);c&&s.push({score:o,key:e,value:a,norm:i,indices:u})}return s}};W.version="7.1.0";W.createIndex=Be;W.parseIndex=Tt;W.config=h;W.parseQuery=Ne;Nt(ge);var ae=require("react"),T=require("react/jsx-runtime");function Ht(t,e,r){let[n,s]=(0,ae.useState)(""),a=(0,ae.useMemo)(()=>new W(t||[],e),[t]);return n?[a.search(n,{limit:r}).map(c=>c.item),s]:[(t||[]).slice(0,r),s]}function We(t){return t.replace("~"," ")}function Jt(t,e){return(0,T.jsx)(F.Action.OpenInBrowser,{url:`https://devdocs.io/${t}/${e.path}`})}function Zt(t,e){return(0,T.jsx)(F.Action.Open,{icon:"devdocs.png",title:"Open in DevDocs",target:`https://devdocs.io/${t}/${e.path}`,application:"DevDocs"})}function Yt(t,e){let r=(0,F.getPreferenceValues)(),n=Jt(t,e),s=Zt(t,e);if(r.primaryOpenInAction=="browser")return(0,T.jsxs)(T.Fragment,{children:[n,s]});if(r.primaryOpenInAction=="app")return(0,T.jsxs)(T.Fragment,{children:[s,n]})}function ze(t){return(0,T.jsx)(Ve,{slug:t.arguments.slug})}function Ve({slug:t}){let{data:e,isLoading:r}=Re(`https://devdocs.io/docs/${t}/index.json`),[n,s]=Ht(e?.entries,{keys:["name","type"]},500);return(0,T.jsx)(F.List,{isLoading:r,onSearchTextChange:a=>{s(a)},navigationTitle:`Search Entries: ${We(t)}`,searchBarPlaceholder:`Search ${We(t)} entries...`,children:n.map(a=>(0,T.jsx)(Qt,{entry:a,slug:t},a.name+a.path+a.type))})}function Qt({entry:t,slug:e}){let r=Yt(e,t);return(0,T.jsx)(F.List.Item,{title:t.name,icon:F.Icon.Document,accessories:[{tag:t.type}],keywords:[t.type].concat(t.name.split(".")),actions:(0,T.jsx)(F.ActionPanel,{children:r})},t.name+t.path)}0&&(module.exports={SearchEntries});
